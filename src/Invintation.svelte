<script>
    import Timer from './Timer.svelte';
	import Links from './Links.svelte';
	import Twitter from './Twitter.svelte';
	import Header from './Header.svelte';
	import { GameState } from './Space/Game';

	import { isAvailable, eggStart } from './EggTimer';

	let active = GameState.active;

	GameState.addEventListener('change:active', ({value}) => active = value);

	const start = new Date('2020-10-17T11:00:00.000Z');
</script>
<style>
	.invintation {
		position: absolute;
		color: #fff;
		left: 0;
		right: 0;
		max-width: 600px;
		height: 100%;
		margin: auto;
		padding: 50px 25px;
		box-sizing: border-box;
		z-index: 1;
		text-shadow: 0 0 1em rgba(0,0,0,.4);
		font-family: 'Yanone Kaffeesatz', sans-serif;
		overflow: auto;
	}

	section {
		font-size: 1.6em;
		line-height: 1.3em;
	}

	.address {
		font-size: .8em;
		line-height: 1em;
		margin: 0;
	}

	a {
		color: #fff;
		border-bottom: dotted #ffffff 1px;
		text-decoration: none;
	}

	.invintation_game_active section {
		animation: fade .3s ease-out .3s;
		animation-fill-mode: forwards;
	}

	.invintation_game_active {
		user-select: none;
		pointer-events: none;
	}

	@keyframes fade {
		0% {
			transform: translateY(0);
			opacity: 1;
		}
		100% {
			transform: translateY(10px);
			opacity: 0;
		}
	}
</style>
<div class="invintation invintation_game_{active ? 'active' : 'inactive'}">
	<Header/>
	{#if !isAvailable()}
	<section>
		–ü—Ä–∏–≥–ª–∞—à–∞—é –Ω–∞ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è
		{start.getDate()} –æ–∫—Ç—è–±—Ä—è
		<br/>
		–ø—Ä–∏—Ö–æ–¥–∏—Ç–µ –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è —Å 14:00 –¥–æ 21:00
		<br/>
		{#if isAvailable()}
		–ù–∞—á–∞–ª–æ —á–µ—Ä–µ–∑ <Timer start={start}/>
		{/if}
		{#if !isAvailable()}
		<br/>
		ü•ö –ü–∞—Å—Ö–∞–ª–∫–∞ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ <Timer start={eggStart}/>
		{/if}
		<br>
		<br/>
		<a href="https://yandex.ru/maps/-/CCQxr8VeOC">
			–ü—Ä–æ—Å–ø–µ–∫—Ç –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤—Å–∫–æ–π –§–µ—Ä–º—ã 8<br>
			<span class="address">
				7 –ø–∞—Ä–∞–¥–Ω–∞—è, 22 —ç—Ç–∞–∂, –∫–≤. 1268
			</span>
		</a>
		<br/><br/>
		<Links/>
	</section>
	{/if}
</div>